<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Collapsible tree</title>
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
      <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet"/>
    <link rel="stylesheet" href="tree_visualization.css" />
    <!-- load libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.0/chroma.min.js"></script>
    <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js" defer></script>
  </head>

  <body>
    <div class="row">
      <div class="col" id="svg_container">
        <div id="legendContainer">
          <div id="colorGradient" ></div>
          <div id="valueLabels" >
              <!-- Labels will be added dynamically -->
          </div>
        </div>
        <div style="padding-top: 10px;">
          <button data-scheme="scheme1">BrewerBlues</button>
          <button data-scheme="scheme2">Red</button>
          <button data-scheme="scheme3">Viridis</button>
      </div>
    </div>
    <div id="customTooltip" class="tooltip bs-tooltip-top" role="tooltip" style="position: absolute; opacity: 0; pointer-events: none;">
      <div class="tooltip-arrow"></div>
      <div class="tooltip-inner"></div>
    </div>

    <script src="tree_visualization.js"></script>
    <script>
      const search_gene = "CD8A";  
      const input_data = "data/test_input/structure_expr_miniset.csv"; 
      //const input_data = "data/test_input/test.csv"; 

      // where to append your tree. It can be selected by tag, class name, or ID. 
      // Format: select("tag"), select(".classname"), select("#ID")
      const svg_location= "svg_container";
      
      // online path to icons
      //const path_to_icon_folder = "https://hpc.nih.gov/~Jiang_Lab/Lineage/";
      // TODO: only when testing, the URL broken for some reason
      const path_to_icon_folder = "data/CellTypeIcon_separate/";
                                  
      collapsible_tree(input_data, search_gene, svg_location, path_to_icon_folder);
    </script>
 </body>
</html>
