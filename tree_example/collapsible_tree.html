
<!DOCTYPE html>
<html>
  <meta charset="UTF-8" />
  <header>
    <title>Collapsible tree</title> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link
    href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
    rel="stylesheet"
  />
    <link rel="stylesheet" href="tree_visualization.css" />
  </header>

  <body>
    <!-- load libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.0/chroma.min.js"></script>
    <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"></script>

    <script src="tree_visualization.js"></script>
    
    <div class="container-fluid" >
      <nav class="navbar navbar-expand-lg bg-primary-subtle">
        <div class="container-fluid">
          <a class="navbar-brand mb-0 h1" href="#">Collapsible Tree</a>
        </div>
      </nav>

      <br>
      <div style="text-align: justify;">
        <div class="row">

          <div class="col-md-10 offset-md-1">
            <h4> You can put come text here. </h4>
          </div>

      </div>

      <div class="row">
        <div class="col-md-10 offset-md-1" id="your_svg_container" >
            <!-- SVG or D3 Visualization goes here -->
            <div id="buttons-container">
              <div class ="row">
                  <div class="col-3">
                      <!--  buttons for layout-->
                      <p class="button-text-label" >Select the layout you want: </p>
                      <div >
                      <button id="tree-layout-button" type="button" class="btn btn-outline-primary">Tree Layout</button>
                      <button id="radial-layout-button" type="button" class="btn btn-outline-primary">Radial Layout</button>
                      </div>
                  </div>
                  <div class = "col-3"> 
                       <!--  buttons for color scheme -->
                      <p class="button-text-label">Select the color scheme you want: </p>
                      <div >
                          <button data-scheme="scheme1"type="button" class="btn custom-btn-blue">BrewerBlues</button>
                          <button data-scheme="scheme2" type="button" class="btn custom-btn-red">Red</button>
                          <button data-scheme="scheme3" type="button" class="btn custom-btn-viridis">Viridis</button>

                      </div>
                  </div>
                  <div class="col-2">
                      <div id="legendContainer" style="padding-top: 25px;">
                          <div id="valueLabels"  ></div>
                          <div id="colorGradient" class="rounded"></div>
                          
                      </div>
                  </div>
                  <div class="col-2" style="padding-top: 45px;">
                      <div class="range-slider" id="sliderContainer">
                          <input id="mySlider" data-slider-id='mySlider' type="text" data-slider-min="-360" data-slider-max="360" data-slider-step="1" data-slider-value="-45"/>
                          <div class="range-value">
                              Rotate <span id="rotateValue">0</span> degrees
                          </div>
                      </div>
                  </div>


              </div>
              </div>
          </div>
          <div id="basicTreeTooltip" class="tooltip bs-tooltip-top" role="tooltip" style="position: absolute; opacity: 0; pointer-events: none;">
            <div class="tooltip-arrow"></div>
            <div class="tooltip-inner"></div>
          </div>
          <div id="radialTreeTooltip" class="tooltip bs-tooltip-top" role="tooltip" style="position: absolute; opacity: 0; pointer-events: none;">
          <div class="tooltip-arrow"></div>
          <div class="tooltip-inner"></div>
          </div>

        </div>

      </div>
      </div>
    </div>


    <script type="text/javascript">

      const search_column = 'CD8A'; // the column you want to visualize
      const input_data =  'data/structure_expr_miniset.csv';   // path to your input csv file
      const path_to_icon_folder = "CellTypeIcon_separate/"; // path to the folder with the icons
      // where to append your tree. It can be selected by tag, class name, or ID. 
      // Format: select("tag"), select(".classname"), select("#ID")
      // Here we use the ID, the id needs to match the id you use the html file. (line 46)
      const svg_location_id = "your_svg_container";  
      const is_local_csv = true; //Set to true by default. If the CSV file is local, leave it as true to parse it with D3. If the file can be parsed directly without D3, set it to false.
      collapsible_tree(input_data, is_local_csv, search_column, svg_location_id, path_to_icon_folder);

    </script>

 </body>

</html>

